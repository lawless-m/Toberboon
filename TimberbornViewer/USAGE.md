# Timberborn Viewer - Quick Start Guide

## Installation & Setup

1. **Install dependencies:**
   ```bash
   npm install
   ```

2. **Start the development server:**
   ```bash
   npm run dev
   ```

   The viewer will open at `http://localhost:5173`

## Loading a Terrain Map

1. Click the **"Load .timber file"** button
2. Select a `.timber` file from your file system
3. The 3D terrain will render automatically

## Example Maps

Example terrain maps are available in:
- `../TimberbornTerrainGenerator/output/` (if you've run the generator)
- Or generate new ones using the TimberbornTerrainGenerator project

## Controls

### Mouse Controls
- **Left Click + Drag**: Rotate the camera around the terrain
- **Right Click + Drag**: Pan the camera (move sideways)
- **Mouse Wheel**: Zoom in and out

### Keyboard Shortcuts
- **Arrow Keys**: Move the camera
- **H**: Toggle help/instructions panel

## What You'll See

### Terrain Rendering

The viewer displays:

1. **Terrain Blocks** (Brown) - The voxel terrain
2. **Water Sources** (Blue spheres) - Glowing water sources with particles
3. **Trees** (Green cones) - Different shades for different tree types:
   - Pine: Dark green
   - Birch: Light green
   - Maple: Orange-red (autumn colors)
   - Chestnut: Lime green
4. **Bushes** (Small spheres) - Blue for blueberries, gold for dandelions

### Stats Panel

After loading, you'll see statistics:
- Map size (e.g., 128×128)
- Number of terrain blocks
- Number of water sources
- Tree count
- Bush count

## Performance Tips

For large maps (256×256+):

1. **Use a modern GPU** - The viewer uses WebGL and can be demanding
2. **Close other browser tabs** - Free up GPU memory
3. **Reduce window size** - Smaller viewport = better performance

## Troubleshooting

### Map doesn't load
- Ensure the file is a valid `.timber` file (ZIP containing world.json)
- Check the browser console (F12) for error messages

### Terrain looks wrong
- Try regenerating the map with the TimberbornTerrainGenerator
- Ensure you're using maps compatible with Update 7+

### Performance issues
- Try loading a smaller map first (64×64 or 96×96)
- Check your GPU usage in Task Manager
- Use a modern browser (Chrome/Edge recommended)

## Building for Production

```bash
npm run build
```

This creates an optimized build in the `dist/` folder that can be deployed to any static hosting service.

## Viewing the Production Build

```bash
npm run preview
```

## Integration with Generator

The viewer works seamlessly with maps generated by TimberbornTerrainGenerator:

1. Generate a map:
   ```bash
   cd ../TimberbornTerrainGenerator
   dotnet run -- --size 128 --name MyMap
   ```

2. Load in viewer:
   - Start the viewer: `npm run dev`
   - Load the file from `../TimberbornTerrainGenerator/output/MyMap.timber`

## Browser Compatibility

- ✅ Chrome 90+
- ✅ Edge 90+
- ✅ Firefox 88+
- ✅ Safari 15+

Requires WebGL 2.0 support.
